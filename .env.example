# ============================================================================
# HORRORBOT - Configuration Environment Variables
# Copier ce fichier vers .env et remplir les valeurs
# ============================================================================

# -------------------------------------------------------------------------
# TMDB API (The Movie Database)
# -------------------------------------------------------------------------
# Obtenir gratuitement sur : https://www.themoviedb.org/settings/api
TMDB_API_KEY=your_tmdb_api_key_here
TMDB_BASE_URL=https://api.themoviedb.org/3
TMDB_IMAGE_BASE_URL=https://image.tmdb.org/t/p/w500

# -------------------------------------------------------------------------
# Kaggle API (Dataset Letterboxd)
# -------------------------------------------------------------------------
# 1. Créer un compte : https://www.kaggle.com/account/login?phase=startRegisterTab
# 2. Générer token : https://www.kaggle.com/settings → "API" → "Create New Token"
KAGGLE_USERNAME=your_kaggle_username
KAGGLE_KEY=your_kaggle_api_key

# -------------------------------------------------------------------------
# PostgreSQL - Base principale (Port 5432)
# -------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=horrorbot
POSTGRES_USER=horrorbot_user
POSTGRES_PASSWORD=change_this_password_in_production

# URL de connexion complète (alternative)
DATABASE_URL=postgresql://horrorbot_user:change_this_password_in_production@localhost:5432/horrorbot

# -------------------------------------------------------------------------
# PostgreSQL - Base Letterboxd externe (Port 5433) - Validation C2
# -------------------------------------------------------------------------
LETTERBOXD_POSTGRES_HOST=localhost
LETTERBOXD_POSTGRES_PORT=5433
LETTERBOXD_POSTGRES_DB=horror_letterboxd
LETTERBOXD_POSTGRES_USER=letterboxd_user
LETTERBOXD_POSTGRES_PASSWORD=letterboxd_dev_password

# -------------------------------------------------------------------------
# Apache Spark - Big Data
# -------------------------------------------------------------------------
SPARK_HOME=/opt/spark
SPARK_MASTER=local[4]
SPARK_DRIVER_MEMORY=4g
SPARK_EXECUTOR_MEMORY=4g

# Chemin vers fichier Parquet (2GB, 10M films)
SPARK_PARQUET_PATH=data/big_data/movies_large.parquet

# -------------------------------------------------------------------------
# API REST - FastAPI
# -------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true
API_WORKERS=4

# URL publique de l'API (production)
API_PUBLIC_URL=http://localhost:8000

# -------------------------------------------------------------------------
# Sécurité - JWT (JSON Web Tokens)
# -------------------------------------------------------------------------
# Générer avec : openssl rand -hex 32
JWT_SECRET_KEY=generate_a_random_secret_key_with_openssl_rand_hex_32
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30

# -------------------------------------------------------------------------
# Sécurité - Rate Limiting
# -------------------------------------------------------------------------
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# -------------------------------------------------------------------------
# CORS - Cross-Origin Resource Sharing
# -------------------------------------------------------------------------
# Domaines autorisés (séparés par virgule)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,https://horrorbot.app

# -------------------------------------------------------------------------
# ETL - Configuration
# -------------------------------------------------------------------------
# Répertoires de données
DATA_RAW_DIR=data/raw
DATA_PROCESSED_DIR=data/processed
DATA_CHECKPOINTS_DIR=data/checkpoints

# Nombre de threads pour extraction parallèle
ETL_MAX_WORKERS=4

# Délai entre requêtes web scraping (secondes)
SCRAPING_DELAY=2.0

# User-Agent pour scraping
USER_AGENT="HorrorBot-ETL/1.0 (Educational Project; +https://github.com/DahliaNoir71/chatbot-horror-movies)"

# -------------------------------------------------------------------------
# Logging
# -------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_DIR=logs
LOG_FORMAT=json

# -------------------------------------------------------------------------
# Environnement
# -------------------------------------------------------------------------
# Valeurs possibles : development, production, test
ENVIRONMENT=development

# Mode debug (true/false)
DEBUG=true